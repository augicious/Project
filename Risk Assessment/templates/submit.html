{% extends "base.html" %}

{% block content %}
<section class="card">
    <h2>Submit a Risk Assessment</h2>
    <form method="post" class="form">
        <label>
            <span class="field-label" tabindex="0" data-tooltip="Short summary of the risk.">Title</span>
            <input type="text" name="title" required />
        </label>
        <label>
            <span class="field-label" tabindex="0" data-tooltip="Describe what could happen, why it matters, and any key context.">Description</span>
            <textarea name="description" rows="5" required></textarea>
        </label>
        <label>
            <span class="field-label" tabindex="0" data-tooltip="Overall urgency/impact: Low, Medium, High, or Critical. Admins can adjust later.">Severity</span>
            <select name="severity" required>
                {% for option in ['Low', 'Medium', 'High', 'Critical'] %}
                    <option value="{{ option }}" {% if option == 'Medium' %}selected{% endif %}>{{ option }}</option>
                {% endfor %}
            </select>
            <small class="help">Choose how urgent/impactful this risk is. Admins can adjust later.</small>
        </label>
        <div class="form-grid">
            <label>
                <span class="field-label" tabindex="0" data-tooltip="How likely this risk is BEFORE any mitigation.">Initial Likelihood</span>
                <select name="likelihood_initial">
                    <option value="">Select</option>
                    {% for option in ['Very Low', 'Low', 'Medium', 'High', 'Very High'] %}
                        <option value="{{ option }}">{{ option }}</option>
                    {% endfor %}
                </select>
            </label>
            <label>
                <span class="field-label" tabindex="0" data-tooltip="How severe the impact would be BEFORE any mitigation.">Initial Impact</span>
                <select name="impact_initial">
                    <option value="">Select</option>
                    {% for option in ['Very Low', 'Low', 'Medium', 'High', 'Very High'] %}
                        <option value="{{ option }}">{{ option }}</option>
                    {% endfor %}
                </select>
            </label>
            <label>
                <span class="field-label" tabindex="0" data-tooltip="Expected likelihood AFTER mitigation steps are in place.">Residual Likelihood</span>
                <select name="likelihood_residual">
                    <option value="">Select</option>
                    {% for option in ['Very Low', 'Low', 'Medium', 'High', 'Very High'] %}
                        <option value="{{ option }}">{{ option }}</option>
                    {% endfor %}
                </select>
            </label>
            <label>
                <span class="field-label" tabindex="0" data-tooltip="Expected impact AFTER mitigation steps are in place.">Residual Impact</span>
                <select name="impact_residual">
                    <option value="">Select</option>
                    {% for option in ['Very Low', 'Low', 'Medium', 'High', 'Very High'] %}
                        <option value="{{ option }}">{{ option }}</option>
                    {% endfor %}
                </select>
            </label>
            <label>
                <span class="field-label" tabindex="0" data-tooltip="Examples: Service unavailable; Safety/endangerment; Compliance; Financial; Reputational; Data loss.">Impact Type</span>
                <input type="text" name="impact_type" />
            </label>
            <label>
                <span class="field-label" tabindex="0" data-tooltip="Optional: team/person who should own the risk (can be updated later).">Suggested Owner</span>
                <input type="text" name="owner" />
            </label>
            <label>
                <span class="field-label" tabindex="0" data-tooltip="Optional: relative priority, 1 (lowest) to 5 (highest)."><span>Priority (1-5)</span></span>
                <input type="number" name="priority" min="1" max="5" />
            </label>
        </div>
        <button type="submit">Submit Risk</button>
    </form>
</section>
{% endblock %}
